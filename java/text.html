<!DOCTYPE html>
<html>
<head>
    <title>prompt sine</title>
    <style>
        body {
            font-size: 18px;
            font-family: Arial, sans-serif;
        }
        .term-panel {
            margin-bottom: 20px;
        }
        .term-panel input {
            margin-right: 10px;
        }
        #copiableText {
            margin-top: 20px;
            font-size: 24px;
            font-family: "Courier New", monospace;
            white-space: pre-wrap;
            word-wrap: break-word;
            padding: 10px;
            background-color: lightgray;
        }
    </style>
</head>
<body>
    <h1>Copiable Text Example</h1>
    <div id="termPanels">
        <!-- Example prewritten term panels -->
        <div class="term-panel">
            <label for="term1">Term 1:</label>
            <input type="text" id="term1" value="apple">
            <label for="freq1">Frequency:</label>
            <input type="number" id="freq1" value="1">
            <label for="amp1">Amplitude:</label>
            <input type="number" id="amp1" value="1">
            <label for="pos1">Position:</label>
            <input type="number" id="pos1" value="0">
            <label for="height1">Height:</label>
            <input type="number" id="height1" value="0">
            <button onclick="removeTermPanel(1)">Remove</button>
        </div>
    </div>
    <button onclick="addTermPanel()">Add Term</button>
    <br>
    <label for="frames">Frames:</label>
    <input type="number" id="frames" value="1">
    <br>
    <label for="terms">Terms:</label>
    <input type="number" id="terms" value="1">
    <br>
    <button onclick="generateCopiableText()">Generate Copiable Text</button>
    <br>
    <div id="copiableText"></div>
    <script>
        var terms = [];
        var numFrames = 1;
        var numTerms = 1;

        function addTermPanel() {
            var termPanels = document.getElementById('termPanels');
            var numTermPanels = termPanels.children.length;
            var newTermPanel = document.createElement('div');
            newTermPanel.className = 'term-panel';
            newTermPanel.innerHTML = `
                <label for="term${numTermPanels + 1}">Term ${numTermPanels + 1}:</label>
                <input type="text" id="term${numTermPanels + 1}" value="">
                <label for="freq${numTermPanels + 1}">Frequency:</label>
                <input type="number" id="freq${numTermPanels + 1}" value="1">
                <label for="amp${numTermPanels + 1}">Amplitude:</label>
                <input type="number" id="amp${numTermPanels + 1}" value="1">
                <label for="pos${numTermPanels + 1}">Position:</label>
                <input type="number" id="pos${numTermPanels + 1}" value="0">
                <label for="height${numTermPanels + 1}">Height:</label>
                <input type="number" id="height${numTermPanels + 1}" value="0">
                <button onclick="removeTermPanel(${numTermPanels + 1})">Remove</button>
            `;
            termPanels.appendChild(newTermPanel);
            numTerms++;
        }

        function removeTermPanel(panelIndex) {
            var termPanels = document.getElementById('termPanels');
            var panelToRemove = document.getElementById(`term${panelIndex}`).parentNode;
            termPanels.removeChild(panelToRemove);
            numTerms--;
        }



        function generateCopiableText() {
            terms = [];
            for (var i = 1; i <= numTerms; i++) {
                var term = document.getElementById(`term${i}`).value;
                var frequency = document.getElementById(`freq${i}`).value;
                var amplitude = document.getElementById(`amp${i}`).value;
                var position = document.getElementById(`pos${i}`).value;
                var height = document.getElementById(`height${i}`).value;
                terms.push({
                    term: term,
                    frequency: frequency,
                    amplitude: amplitude,
                    position: position,
                    height: height
                });
            }
            numFrames = document.getElementById('frames').value;
            var copiableText = document.getElementById('copiableText');
            copiableText.innerHTML = '';
            for (var i = 0; i < numFrames; i++) {
                var frameText = '';
                for (var j = 0; j < numTerms; j++) {
                    var term = terms[j].term;
                    var frequency = terms[j].frequency;
                    var amplitude = terms[j].amplitude;
                    var position = terms[j].position;
                    var height = terms[j].height;
                    var termText = generateTermText("", frequency, amplitude, position, height, i);
                    frameText += " (" + term + ":" + termText + ')';
                }
                var frameElement = document.createElement('div');
                frameElement.innerText = frameText + ",";
                copiableText.appendChild(frameElement);
            }
        }

        function generateTermText(term, frequency, amplitude, position, height, frame) {
            var x = (frame + position * 20 / numFrames) * Math.PI * frequency;
            var y = amplitude * Math.sin(x);
            y += parseFloat(height);
            return term + y;
        }
    </script>
</body>
</html>